@import "tailwindcss";
@import "tw-animate-css";

@theme inline {
  --color-solo-bg: var(--bg);
  --color-solo-text: var(--text);
  --color-solo-text-muted: var(--text-muted);
  --color-solo-accent: var(--accent);
  --color-solo-glow: var(--glow);
  --color-solo-rule: var(--rule);
  
  --font-display: 'Cormorant Garamond', serif;
  --font-body: 'Inter', sans-serif;
  
  --animate-heartbeat: heartbeat 1.2s ease-in-out infinite;
  --animate-marquee: marquee 20s linear infinite;
  --animate-grain: grain 8s steps(10) infinite;
}

@layer base {
  :root {
    /* Default (Gold) */
    --bg: #1A1A1A;
    --text: #F5F2EB;
    --text-muted: rgba(245, 242, 235, 0.6);
    --rule: rgba(245, 242, 235, 0.2);
    --accent: #C9A227;
    --glow: rgba(201, 162, 39, 0.4);
  }

  :root[data-theme="electric"] {
    /* Forest */
    --bg: #0F1A14;
    --text: #E8F5E9;
    --text-muted: rgba(232, 245, 233, 0.6);
    --rule: rgba(232, 245, 233, 0.2);
    --accent: #4ADE80;
    --glow: rgba(74, 222, 128, 0.4);
  }

  :root[data-theme="deep"] {
    /* Ocean */
    --bg: #0F141A;
    --text: #E3F2FD;
    --text-muted: rgba(227, 242, 253, 0.6);
    --rule: rgba(227, 242, 253, 0.2);
    --accent: #60A5FA;
    --glow: rgba(96, 165, 250, 0.4);
  }

  :root[data-theme="inverted"] {
    /* Light */
    --bg: #F5F2EB;
    --text: #1A1A1A;
    --text-muted: rgba(26, 26, 26, 0.6);
    --rule: rgba(26, 26, 26, 0.2);
    --accent: #FF8E72;
    --glow: rgba(255, 142, 114, 0.4);
  }

  * {
    border-color: var(--color-solo-rule);
  }
  
  html {
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    transition: background-color 0.8s cubic-bezier(0.16, 1, 0.3, 1), color 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    scrollbar-width: none; /* Firefox */
  }

  body::-webkit-scrollbar {
    display: none; /* Chrome, Safari, Opera */
  }


  body {
    background-color: var(--color-solo-bg);
    color: var(--color-solo-text);
    font-family: var(--font-body);
    transition: background-color 0.8s cubic-bezier(0.16, 1, 0.3, 1), color 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  }
  
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .square-interactive {
    transition: transform 600ms cubic-bezier(0.16, 1, 0.3, 1);
  }

  .group:hover .square-interactive {
    transform: rotate(45deg);
  }
  
  .hover-rotate-diamond:hover .square-interactive {
    transform: rotate(45deg);
  }

  /* Custom Grain Utility */
  .bg-noise {
    position: fixed;
    top: -50%;
    left: -50%;
    right: -50%;
    bottom: -50%;
    width: 200%;
    height: 200vh;
    background: transparent url('data:image/svg+xml,%3Csvg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg"%3E%3Cfilter id="noiseFilter"%3E%3CfeTurbulence type="fractalNoise" baseFrequency="0.65" numOctaves="3" stitchTiles="stitch"/%3E%3C/filter%3E%3Crect width="100%25" height="100%25" filter="url(%23noiseFilter)" opacity="0.05"/%3E%3C/svg%3E');
    pointer-events: none;
    z-index: 50;
    opacity: 0.05;
    animation: grain 8s steps(10) infinite;
  }
  
  .text-outline {
    -webkit-text-stroke: 1px currentColor;
    color: transparent;
  }

  /* STORY - Hollow outline that fills on hover */
  .story-hollow {
    color: transparent;
    -webkit-text-stroke: 2px var(--color-solo-accent);
    text-stroke: 2px var(--color-solo-accent);
    transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
    position: relative;
  }

  .story-hollow::before {
    content: 'Story';
    position: absolute;
    top: 0;
    left: 0;
    color: var(--color-solo-accent);
    -webkit-text-stroke: 0;
    text-stroke: 0;
    clip-path: inset(100% 0 0 0);
    transition: clip-path 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  }

  .story-hollow:hover {
    -webkit-text-stroke: 2px var(--color-solo-accent);
    transform: scale(1.02);
    filter: drop-shadow(0 0 30px var(--color-solo-glow));
  }

  .story-hollow:hover::before {
    clip-path: inset(0 0 0 0);
  }

  /* Mobile: Scroll-triggered reveal */
  .story-hollow.story-revealed {
    -webkit-text-stroke: 2px var(--color-solo-accent);
    filter: drop-shadow(0 0 30px var(--color-solo-glow));
  }

  .story-hollow.story-revealed::before {
    clip-path: inset(0 0 0 0);
  }

  /* WORK - Hollow outline that fills on scroll reveal */
  .work-hollow {
    color: transparent;
    -webkit-text-stroke: 2px var(--color-solo-accent);
    text-stroke: 2px var(--color-solo-accent);
    transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
    font-style: italic;
  }

  .work-hollow.work-revealed {
    color: var(--color-solo-accent);
    -webkit-text-stroke: 0;
    text-stroke: 0;
    filter: drop-shadow(0 0 40px var(--color-solo-glow));
    transform: scale(1.02);
  }

  /* Desktop: Also fill on hover */
  @media (hover: hover) {
    .work-hollow:hover {
      color: var(--color-solo-accent);
      -webkit-text-stroke: 0;
      text-stroke: 0;
      filter: drop-shadow(0 0 40px var(--color-solo-glow));
      transform: scale(1.02);
    }
  }
}

@keyframes heartbeat {
  0%, 100% { 
    box-shadow: 0 0 0 rgba(0,0,0, 0);
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 0 20px var(--color-solo-glow);
    transform: scale(1.1);
  }
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -10%); }
  20% { transform: translate(-15%, 5%); }
  30% { transform: translate(7%, -25%); }
  40% { transform: translate(-5%, 25%); }
  50% { transform: translate(-15%, 10%); }
  60% { transform: translate(15%, 0%); }
  70% { transform: translate(0%, 15%); }
  80% { transform: translate(3%, 35%); }
  90% { transform: translate(-10%, 10%); }
}

html.lenis, html.lenis body {
  height: auto;
}

.lenis.lenis-smooth {
  scroll-behavior: auto !important;
}

.lenis.lenis-smooth [data-lenis-prevent] {
  overscroll-behavior: contain;
}

.lenis.lenis-stopped {
  overflow: hidden;
}

.lenis.lenis-scrolling iframe {
  pointer-events: none;
}
